--SET log_min_messages TO DEBUG1;
--SET client_min_messages TO DEBUG1;
--Testcase 001:
CREATE EXTENSION sqlite_fdw;
--Testcase 002:
CREATE SERVER sqlite_svr FOREIGN DATA WRAPPER sqlite_fdw
OPTIONS (database '/tmp/sqlite_fdw_test/common.db');

--Testcase 003:
CREATE SERVER sqlite2 FOREIGN DATA WRAPPER sqlite_fdw;

--Testcase 010:
CREATE FOREIGN TABLE "type_INET"(ip inet) SERVER sqlite_svr OPTIONS (table 'type_INET');

CREATE TABLE tmp_inet(ip inet);
--Testcase 011:
\copy "tmp_inet" from '/tmp/sqlite_fdw_test/inet.data'

INSERT INTO "type_INET" (ip) SELECT (ip) FROM "tmp_inet";

--Testcase 012:
ALTER FOREIGN TABLE "type_INET" ADD COLUMN i int OPTIONS (key 'true');
--Testcase 013:
CREATE FOREIGN TABLE "type_INET+"( i int OPTIONS (key 'true'), ip INET, "t" text, "l" smallint, "tx" varchar(64), "ip_text" text) SERVER sqlite_svr OPTIONS (table 'type_INET+');
--Testcase 014:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+";
--Testcase 015:
SELECT * FROM "type_INET+";

--Testcase 016:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip TYPE text;
--Testcase 017:
INSERT INTO "type_INET" (i, ip) VALUES (700, '218.33.169.7');
--Testcase 017:
INSERT INTO "type_INET" (i, ip) VALUES (701, '216.21.168.160/29');
--Testcase 019:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip TYPE bytea;
--Testcase 020: IPv4 255.255.255.255
INSERT INTO "type_INET" (i, ip) VALUES (702, decode('FFFFFFFF', 'hex'));
--Testcase 021: IPv4 255.255.254.224/28
INSERT INTO "type_INET" (i, ip) VALUES (703, decode('FFFFFEE01C', 'hex'));

--Testcase 022:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip TYPE inet;
--Testcase 023: ipaddr_native function
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (ip) VALUES ('205.48.101.94'::inet);
--Testcase 024:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+" WHERE i >= 700;
--Testcase 025:
SELECT * FROM "type_INET+" WHERE i >= 700;

-- INSERT IP v4
--Testcase 030:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 031:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (710, '218.33.169.7'::inet);
--Testcase 032:
INSERT INTO "type_INET" (i, ip) VALUES (710, '218.33.169.7'::inet);
--Testcase 033:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 034
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (711, '218.33.169.8'::inet);
--Testcase 035:
INSERT INTO "type_INET" (i, ip) VALUES (711, '218.33.169.8'::inet);
--Testcase 036:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 037:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (712, '218.33.169.9'::inet);
--Testcase 038:
INSERT INTO "type_INET" (i, ip) VALUES (712, '218.33.169.9'::inet);
--Testcase 039:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 040:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (713, '218.33.169.10'::inet);
--Testcase 041:
INSERT INTO "type_INET" (i, ip) VALUES (713, '218.33.169.10'::inet);
--Testcase 042:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 043:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (714, '218.33.169.11'::inet);
--Testcase 044:
INSERT INTO "type_INET" (i, ip) VALUES (714, '218.33.169.11'::inet);
--Testcase 045:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET" WHERE ip = '218.33.169.7'::inet;
--Testcase 046:
SELECT * FROM "type_INET" WHERE ip = '218.33.169.7'::inet;
--Testcase 047:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+" WHERE i >= 710;
--Testcase 048:
SELECT * FROM "type_INET+" WHERE i >= 710;

-- INSERT IP v4 + cidr
--Testcase 050:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 051:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (720, '218.33.169.0/29'::inet);
--Testcase 052:
INSERT INTO "type_INET" (i, ip) VALUES (720, '218.33.169.0/29'::inet);
--Testcase 053:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 054:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (721, '219.33.168.0/24'::inet);
--Testcase 055:
INSERT INTO "type_INET" (i, ip) VALUES (721, '219.33.168.0/24'::inet);
--Testcase 056:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 057:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (722, '220.33.1.0/17'::inet);
--Testcase 058:
INSERT INTO "type_INET" (i, ip) VALUES (722, '220.33.1.0/17'::inet);
--Testcase 059:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 060:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (723, '221.32.0.0/12'::inet);
--Testcase 061:
INSERT INTO "type_INET" (i, ip) VALUES (723, '221.32.0.0/12'::inet);
--Testcase 062:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 063:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (724, '222.0.0.0/7'::inet);
--Testcase 064:
INSERT INTO "type_INET" (i, ip) VALUES (724, '222.0.0.0/7'::inet);
--Testcase 065:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET" WHERE ip = '218.0.0.0/7'::inet;
--Testcase 066:
SELECT * FROM "type_INET" WHERE ip = '218.0.0.0/7'::inet;
--Testcase 067:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+" WHERE i >= 720;
--Testcase 068:
SELECT * FROM "type_INET+" WHERE i >= 720;

-- UPDATE IP v4
--Testcase 070:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 071:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '218.33.169.12' WHERE ip = '218.33.169.11';
--Testcase 072:
UPDATE "type_INET" SET ip = '218.33.169.12' WHERE ip = '218.33.169.11';
--Testcase 073:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 074
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '218.33.169.11' WHERE ip = '218.33.169.10';
--Testcase 075
UPDATE "type_INET" SET ip = '218.33.169.11' WHERE ip = '218.33.169.10';
--Testcase 076:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 077:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '218.33.169.10' WHERE ip = '218.33.169.9';
--Testcase 078:
UPDATE "type_INET" SET ip = '218.33.169.10' WHERE ip = '218.33.169.9';
--Testcase 079:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 080:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '218.33.169.9' WHERE ip = '218.33.169.8';
--Testcase 081:
UPDATE "type_INET" SET ip = '218.33.169.9' WHERE ip = '218.33.169.8';
--Testcase 082:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 083:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '218.33.169.8' WHERE ip = '218.33.169.7';
--Testcase 084:
UPDATE "type_INET" SET ip = '218.33.169.8' WHERE ip = '218.33.169.7';

--Testcase 085:
SELECT * FROM "type_INET+" WHERE i >= 710 AND i < 720;

-- IP UPDATE v4 + cidr
--Testcase 090:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 091:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '222.0.0.0/6' WHERE ip = '222.0.0.0/7';
--Testcase 092:
UPDATE "type_INET" SET ip = '222.0.0.0/6' WHERE ip = '222.0.0.0/7';
--Testcase 093:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 094
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '221.32.0.0/11' WHERE ip = '221.32.0.0/12';
--Testcase 095
UPDATE "type_INET" SET ip = '221.32.0.0/11' WHERE ip = '221.32.0.0/12';
--Testcase 096:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 097:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '220.33.0.0/16' WHERE ip = '220.33.1.0/17';
--Testcase 098:
UPDATE "type_INET" SET ip = '220.33.0.0/16' WHERE ip = '220.33.1.0/17';
--Testcase 099:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 100:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '219.33.160.0/23' WHERE ip = '219.33.169.0/24';
--Testcase 101:
UPDATE "type_INET" SET ip = '219.33.160.0/23' WHERE ip = '219.33.169.0/24';
--Testcase 102:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 103:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '218.33.169.32/28' WHERE ip = '218.33.169.0/29';
--Testcase 104:
UPDATE "type_INET" SET ip = '218.33.169.32/28' WHERE ip = '218.33.169.0/29';

--Testcase 106:
SELECT * FROM "type_INET+" WHERE i >= 720 AND i < 730;

-- INSERT IP v6
--Testcase 110:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 111:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (730, '2345:0425:2CA1:31F4:2A11:0567:5673:23B7'::inet);
--Testcase 112:
INSERT INTO "type_INET" (i, ip) VALUES (730, '2345:0425:2CA1:31F4:2A11:0567:5673:23B7'::inet);
--Testcase 113:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 114
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (731, '2345:0425:2CA1:31F4:2A11:0567:5673:23B8'::inet);
--Testcase 115:
INSERT INTO "type_INET" (i, ip) VALUES (731, '2345:0425:2CA1:31F4:2A11:0567:5673:23B8'::inet);
--Testcase 116:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 117:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (732, '2345:0425:2CA1:31F4:2A11:0567:5673:23B9'::inet);
--Testcase 118: ERR IPv6 impossible inetger
INSERT INTO "type_INET" (i, ip) VALUES (732, '2345:0425:2CA1:31F4:2A11:0567:5673:23B9'::inet);
--Testcase 119:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 120:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (733, '2345:0425:2CA1:31F4:2A11:0567:5673:23C0'::inet);
--Testcase 121:
INSERT INTO "type_INET" (i, ip) VALUES (733, '2345:0425:2CA1:31F4:2A11:0567:5673:23C0'::inet);
--Testcase 122:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 123:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (734, '2345:0425:2CA1:31F4:2A11:0567:5673:23C1'::inet);
--Testcase 124:
INSERT INTO "type_INET" (i, ip) VALUES (734, '2345:0425:2CA1:31F4:2A11:0567:5673:23C1'::inet);
--Testcase 125:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET" WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B7'::inet;
--Testcase 126:
SELECT * FROM "type_INET" WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B7'::inet;
--Testcase 127:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+" WHERE i >= 730;
--Testcase 128:
SELECT * FROM "type_INET+" WHERE i >= 730;

-- INSERT IP v6 + cidr
--Testcase 130:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 131:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (740, '2345:0425:2CA1:31F4:2A11:0567:5673:2300/120'::inet);
--Testcase 132:
INSERT INTO "type_INET" (i, ip) VALUES (740, '2345:0425:2CA1:31F4:2A11:0567:5673:23B0/120'::inet);
--Testcase 133:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 134:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (741, '2345:0425:2CA1:31F4:2A11:0567:5673:0000/112'::inet);
--Testcase 135:
INSERT INTO "type_INET" (i, ip) VALUES (741, '2345:0425:2CA1:31F4:2A11:0567:5673:0000/112'::inet);
--Testcase 136:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 137:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (742, '2345:0425:2CA1:31F4:2A11:0567:5600:0000/104'::inet);
--Testcase 138: ERR IPv6 impossible inetger
INSERT INTO "type_INET" (i, ip) VALUES (742, '2345:0425:2CA1:31F4:2A11:0567:5600:0000/104'::inet);
--Testcase 139:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 140:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (743, '2345:0425:2CA1:31F4:2A11:0567:0000:0000/96'::inet);
--Testcase 141:
INSERT INTO "type_INET" (i, ip) VALUES (743, '2345:0425:2CA1:31F4:2A11:0567:0000:0000/96'::inet);
--Testcase 142:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 143:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_INET" (i, ip) VALUES (744, '2345:0425:2CA1:31F4:2A11:0500:0000:0000/88'::inet);
--Testcase 144:
INSERT INTO "type_INET" (i, ip) VALUES (744, '2345:0425:2CA1:31F4:2A11:0500:0000:0000/88'::inet);
--Testcase 145:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET" WHERE ip = '2345:0425:2CA1:31F4:2A11:0500:0000:0000/88'::inet;
--Testcase 146: 
SELECT * FROM "type_INET" WHERE ip = '2345:0425:2CA1:31F4:2A11:0500:0000:0000/88'::inet;
--Testcase 147:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+" WHERE i >= 740;
--Testcase 148:
SELECT * FROM "type_INET+" WHERE i >= 740;

-- UPDATE IP v6
--Testcase 150:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 151:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C2' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C1';
--Testcase 152:
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C2' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C1';
--Testcase 153:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 154
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C1' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C0';
--Testcase 155
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C1' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C0';
--Testcase 156:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 157:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C0' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B9';
--Testcase 158:
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23C0' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B9';
--Testcase 159:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 160:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B9' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B8';
--Testcase 161:
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B9' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B8';
--Testcase 162:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 163:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B8' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B7';
--Testcase 164:
UPDATE "type_INET" SET ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B8' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:23B7';

--Testcase 165:
SELECT * FROM "type_INET+" WHERE i >= 720 AND i < 730;

-- IP UPDATE v6 + cidr
--Testcase 170:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'blob');
--Testcase 171:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0500:0000:0000/88' WHERE ip = '2345:0425:2CA1:31F4:2A11:0500:0000:0000/88';
--Testcase 172:
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0500:0000:0000/88' WHERE ip = '2345:0425:2CA1:31F4:2A11:0500:0000:0000/88';
--Testcase 173:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 174
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:0000:0000/96' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:0000:0000/96';
--Testcase 175
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:0000:0000/96' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:0000:0000/96';
--Testcase 176:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'integer');
--Testcase 177:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:5600:0000/104' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5600:0000/104';
--Testcase 178:
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:5600:0000/104' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5600:0000/104';
--Testcase 179:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'text');
--Testcase 180:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:5673:0000/112' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:0000/112';
--Testcase 181:
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:5673:0000/112' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:0000/112';
--Testcase 182:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 183:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:5673:2300/120' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:2300/120';
--Testcase 184:
UPDATE "type_INET" SET ip = '5432:0425:2CA1:31F4:2A11:0567:5673:2300/120' WHERE ip = '2345:0425:2CA1:31F4:2A11:0567:5673:2300/120';
--Testcase 185:
SELECT * FROM "type_INET+" WHERE i >= 730 AND i < 740;


--Testcase 190:
DELETE FROM "type_INET" WHERE ip = '21.210.197.77';
--Testcase 191:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_INET" WHERE ip = '21.210.197.77';
--Testcase 192:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (ADD column_type 'integer');
--Testcase 193:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_INET" WHERE ip = '56.63.61.114';
--Testcase 194:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'TEXT');
--Testcase 195:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_INET" WHERE ip = '56.63.61.114';
--Testcase 196:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (SET column_type 'null');
--Testcase 197:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_INET" WHERE ip = '56.63.61.114';
--Testcase 198:
ALTER FOREIGN TABLE "type_INET" ALTER COLUMN ip OPTIONS (DROP column_type);
--Testcase 199:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_INET" WHERE ip = '56.63.61.114';

--Testcase 200:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+" ORDER BY ip ASC;
--Testcase 201:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_INET+" ORDER BY ip DESC;
--Testcase 202:
SELECT * FROM "type_INET+" ORDER BY ip DESC;

--Testcase 203:
CREATE FOREIGN TABLE "type_INETpk" (col INET OPTIONS (key 'true')) SERVER sqlite_svr;
--Testcase 204:
ALTER FOREIGN TABLE "type_INETpk" ALTER COLUMN col OPTIONS (ADD column_type 'blob');
--Testcase 205:
INSERT INTO "type_INETpk" VALUES ('28.117.109.25');
--Testcase 206:
ALTER FOREIGN TABLE "type_INETpk" ALTER COLUMN col OPTIONS (SET column_type 'int');
--Testcase 207: NO ERR, but the same semantics!
INSERT INTO "type_INETpk" VALUES ('28.117.109.25');
--Testcase 208:
ALTER FOREIGN TABLE "type_INETpk" ALTER COLUMN col OPTIONS (SET column_type 'text');
--Testcase 209: NO ERR, but the same semantics!
INSERT INTO "type_INETpk" VALUES ('28.117.109.25');
--Testcase 210:
ALTER FOREIGN TABLE "type_INETpk" ALTER COLUMN col OPTIONS (SET column_type 'blob');
--Testcase 211: ERR - primary key
INSERT INTO "type_INETpk" VALUES ('28.117.109.25');
--Testcase 212:
SELECT * FROM "type_INETpk";
--Testcase 213:
DELETE FROM "type_INETpk";

--Testcase 250:
DROP EXTENSION sqlite_fdw CASCADE;
